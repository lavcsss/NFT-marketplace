<Modal>
  <Box class="My_modal notify-inbox-message" onload='readNotifications()'>
      <div class="close-icon">  <img src="/assets/nft/blue-Close.svg" alt="Blue_CLOSE" /></div>
      <div class="notify-heading">
        Notification
      </div>
      <div class="modal-body-section">
      <% if @notifications.present? %>
         <% @notifications.each do |notification| %>
          <%= link_to "#{notification.redirect_path}", class: 'notify_link' do %>
            <div class="notify-msg-box">
              <% if not notification.is_read %>
                <div class="about-notification active">
              <% else %>
                <div class="about-notification">
              <% end %>
                <img src="<%= notification_image_url(notification.image_url) %>" class="img-responsive" />
                <div class="info-detail">
                    <% if notification.header.present? %>
                      <h6><%= notification.header %></h6> 
                    <% end %>
                    <p><%= notification.message %></p>
                </div>
              </div>
              <p class="notify-time"><%= time_ago_in_words(notification.created_at).capitalize %></p>
            </div>
          <% end %>
         <% end %>
      <% else %>
        <div class="notify_empty">
          <img src="/assets/notification-bell.svg" />
          <h4><%= t('common.no_new_notifications')%></h4>
        </div>
      <% end %>
      </div>
  </Box>
</Modal>

<script>

$(document).ready(function readNotifications() {
  $.ajax({
      url: "/read_notifications",
      type: "put",
      dataType: "script",
      data: {}
    })
})

</script>